# 流水线处理器

> 采用五级流水线设计 MIPS CPU

## master(beqv1) 分支

该分支在处理控制冲突时，使用 alu 进行相减判断，然后在执行级进行判断，之后在访存级进行分支跳转，此种方式分支预测错误开销较大，降低了处理器性能，但是不会产生数据冲突。

### 关于 jal 指令修改
在j指令的基础上，添加jal指令，逻辑上比较容易修改，就是修改文件比较麻烦，需要扩充两个信号宽度，一个是sel_regdst, 一个是sel_aluout, sel_regdst扩充至两个位宽，选择器上加一个 $31 的选项，然后sel_aluout也是扩充至两个位宽，在选择器上加一个 pcplus4 的选项，这样实现 jal 往 $31 写入 pc+4 的内容。这两个都是在执行阶段进行修改，相对比较容易。

## beqv2 分支
在译码级处理 beq 等分支指令产生的控制冲突，相对预测错误开销较小，但是又有新的数据冲突需要处理。性能相对较高。
